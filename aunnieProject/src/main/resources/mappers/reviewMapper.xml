<?xml version="1.0" encoding="UTF-8"?>
  <!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.aunnie.review">
	<select id="selectAll" resultType="rdto">
		select review_no, member_no, product_no, r_type, r_title, r_contents, score,
		r_date
		from review order by r_date desc
	</select>
	<select id="selectOne" resultType="rdto" parameterType="int">
		select review_no, member_no, product_no, r_type, r_title, r_contents, score,
		r_date
		from review
		where review_no = #{review_no}
	</select>
	<insert id="insertOne" parameterType="rdto">
		insert into REVIEW
		values(seq_review_no.nextval, #{member_no}, #{product_no}, #{r_type}, #{r_title}, #{r_contents},
		#{score}, sysdate)
	</insert>
	<delete id="deleteOne" parameterType="int">
	delete from review
	where review_no = #{review_no}
	</delete>
	<update id="updateOne" parameterType="rdto">
	update review
	set r_type = #{r_type}, r_title = #{r_title}, r_contents = #{r_contents}, score = #{score}
	where review_no = #{review_no}
	</update>
	
</mapper>